CODE SEGMENT PARA PUBLIC 'CODE'
	ASSUME	CS:CODE,DS:DATAS,SS:STOSIK

	MOV AX,0013H
	INT 10H

	MOV AX,DATAS
	MOV DS,AX

	MOV AX,3D00H
	MOV DX,OFFSET FNAME
	INT 21H
	MOV BX,AX

	MOV AH,3FH
	MOV CX,765
	MOV DX,OFFSET PIC
	INT 21H

	MOV CX,1
	MOV DI,OFFSET PIC
	MOV DX,3C8H
L000:			; *** KOLORY ****
	MOV AL,CL
	OUT DX,AL
	INC DX
	MOV AL,[DI]
	OUT DX,AL
	MOV AL,[DI+1]
	OUT DX,AL
	MOV AL,[DI+2]
	OUT DX,AL
	DEC DX
	ADD DI,3
	INC CX
	CMP CX,256
JB  L000

	MOV AX,0A000H	;    **** LEW NA EKR :
	MOV ES,AX
	MOV AH,3FH
	MOV CX,64000
	MOV DX,OFFSET FNAME
	INT 21H

	MOV DX,3D4H
	MOV AL,0DH
	MOV AH,2
	OUT DX,AX

	MOV DX,0
	XOR AH,AH
L004:
	MOV SI,OFFSET FNAME
	MOV DI,0
	MOV BX,DX
L005:
	PUSH	DI
	MOV AL,0
	ADD DI,AX
	MOV CX,320
	REP MOVSB
	POP DI
	ADD DI,320
	INC BX
	CMP BX,146
	JB  L001
	MOV BX,1
L001:
	CMP DI,64000
	JB  L005

QUIT:
	mov ah,1
	int 21h

	STI

	MOV AX,0003H
	INT 10H
	MOV AX,4C00H
	INT 21H

CODE	ENDS

STOSIK SEGMENT PARA STACK 'STACK'
	DB 2048 DUP (?)
STOSIK ENDS

DATAS SEGMENT PARA PUBLIC 'DATA'
	FNAME	DB  'cat.arc',0
	PIC	DB  1000 DUP(0)
DATAS	ENDS
END
